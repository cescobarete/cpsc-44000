<!DOCTYPE html>
<html lang="en">
<!--
    Author(s):  Christian Escobarete & Sarah & Nick & Yasir
    Class:   Software Engineering
    Description: 
-->
    <head>
        <meta charset="UTF-8">
        <title>Health Insurance Risk Calculater</title>
        <!--CSS code-->
        <style>  
            body{
                background-color: rgb(138, 160, 194) ;
            }

            h1{
                text-align: center;
            }

            h2{
                text-align: center;
            }

            body{
                text-align: center;
            }
        </style>
        <!--JS code-->
        <script>
            // global count
            var count = 0;
            // Disease category
            function disease() {
                var disease = document.getElementById("dis").value;

                if (disease == "diabetes" || disease == "Diabetes") {
                    count = count + 10;
                } else if (disease == "cancer" || disease == "Cancer") {
                    count = count + 10;
                } else if (disease == "Alzheimers" || disease == "alzheimers") {
                    count = count + 10;
                } else if (disease == 'None') {
                    count = count + 0;
                } else {
                    window.alert("Need disease")
                }
            }
            // Blood pressure category
            function bloodPressure() {
                var systolic = document.getElementById("bpr").value;
                var diastolic = document.getElementById("bpr2").value;
                if (!(systolic && diastolic)) {
                    alert("Need Blood Pressure")
                    // Normal blood pressure    
                } else if (systolic < 120 && diastolic < 80) {
                    count = count + 0;
                    // Elevated Blood Pressure
                }   else if (systolic >= 120 && systolic <= 129 && diastolic < 80) {
                    count = count + 15;
                }   else if (systolic >= 130 && systolic <= 139 && diastolic < 90) { //here
                    count = count + 30;
                }   else if(diastolic >= 80 && diastolic <= 89 && systolic < 140){
                    count = count + 30;
                }   else if (systolic >= 140 && systolic <= 180) {
                    count = count + 75;
                }   else if (diastolic >= 90 && diastolic <= 120){//here
                    count = count + 75;
                }   else if (systolic > 180) {
                    count = count + 100;
                }   else if (diastolic > 120 ){
                    count = count + 100;
                }
            }
            // Body mass index category
            function bodyMassIndex() {
                var clientLbs = document.getElementById("bmi").value;
                var clientHeightfeet = document.getElementById("bmi1").value;
                var clientHeightinches = document.getElementById("bmi2").value;
                var clientHeightinches = parseInt(clientHeightfeet * 12) + parseInt(clientHeightinches);

                BMI = (clientLbs / (clientHeightinches*clientHeightinches)) * 703

                if (!(BMI)) {
                    alert("Need BMI")
                } else if (BMI >= 18.5 && BMI <= 24.9) {
                    window.alert("Normal")
                    count = count + 0;
                } else if (BMI >= 25.0 && BMI <= 29.9) {
                    window.alert("Over Weight ")
                    count = count + 30;
                } else if(BMI >= 30.0 && BMI <= 34.9){
                    window.alert("Obesity ")
                    count = count + 75;
                }
            }
            // Age category
            function ageClient() {
                var clientAge = document.getElementById("dob").value;
                if (!(clientAge)) {
                    alert("Need Age")
                } else if (clientAge < 30) {
                    count = count + 0;
                } else if (clientAge < 45) {
                    count = count + 10;
                } else if (clientAge < 60) {
                    count = count + 20;
                } else if (clientAge >= 60) {
                    count = count + 30;
                }
            }
            //count for risk 
            function totalScore() {
                if (count <= 20) {
                    window.alert("Low Risk");
                    alert(count)
                    count = 0;
                } else if (count <= 50) {
                    window.alert("Moderate Risk");
                    alert(count)
                    count = 0;
                } else if (count <= 75) {
                    window.alert("High Risk");
                    alert(count)
                    count = 0;
                } else if (count > 75) {
                    window.alert("Uninsurable");
                    alert(count)
                    count = 0;
                }
            }
            function closeWin() {
                var myWindow = "https://riskcalc-cae2.azurewebsites.net/"
                myWindow.close()
            }
        </script> 
    </head>
    <body>
        
        <h1>Health Risk</h1>
        <h2>Clients Risk Simulator</h2>
        <b>Clients disease: <input type='text' id="dis" value="" size="5"></b><br><br>
        <b>Clients systolic blood pressure: <input type='text' id="bpr" value="" size="5"></b><br><br>
        <b>Clients diastolic blood pressure: <input type='text' id="bpr2" value="" size="5"></b><br><br>
        <b>Body mass index(pound): <input type='text' id="bmi" value="" size="5"></b><br><br>
        <b>Height for BMI(feet): <input type='text' id="bmi1" value="" size="5">
        <b> inches: <input type='text' id="bmi2" value="" size="5"></b></b><br><br>
        <b>Clients age: <input type='text' id="dob" value="" size="5"></b><br><br>
        <!--link the functions into one and 
            have everything caluculate-->
        <button type="button" onclick="ageClient(), totalScore()">Testing Age</button><br>
        <button type="button" onclick="bloodPressure(), totalScore()">Tesing Pressure</button><br>
        <button type="button" onclick="bodyMassIndex(), totalScore()">Testing BMI</button><br>
        <button type="button" onclick="disease(), totalScore()">Testing Disease</button><br>
        <button type="button" onclick="disease(), ageClient(), bloodPressure(), bodyMassIndex(), totalScore()">Calculate Risk</button><br>
        <button onclick="closeWin()">Close the window</button>
    </body>
</html>